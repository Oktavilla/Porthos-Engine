<% @page_title = "Sidtyper > #{@page.title} > Lägg till fält" %>
<% @page_class = 'layout1' -%>
<div id="workspace">
  <div class="header">
    <h1>Nytt <%= @datum.class.model_name.human %> i <%= @page.title %></h1>
  </div>
  <div id="content">
    <%= form_for [:admin, @page, @datum], as: :datum, url: admin_page_data_path(@page) do |f| %>
      <%= render 'admin/shared/error_messages', :object => f.object %>
      <%= hidden_field_tag 'type', f.object.class %>
      <%= f.label :label %>
      <%= f.text_field :label %>

      <%= f.label :handle %>
      <%= f.text_field :handle %>

      <div class="contains_input">
        <%= f.check_box :required %>
        <%= f.label :required %>
      </div>

      <%= f.label :instruction_body %>
      <%= f.text_area :instruction_body, :rows => 3 %>

      <% begin %>
      <%= render :partial => "admin/datum_templates/#{@datum.class.to_s.underscore}_template_form", :locals => { :f => f } %>
      <% rescue ActionView::MissingTemplate %>
      <% end %>
      <div class="submit">
        <%= f.submit t(:save) %> <%= t(:or) %> <%= link_to t(:cancel), admin_page_path(@page) %>
      </div>
    <% end %>
  </div>
</div>