<%= form_for @datum_template, :as => :datum_template, :url => (@datum_template.new_record? ? admin_template_datum_templates_path(@template) : admin_template_datum_template_path(@template, @datum_template)), :html => { :id =>  'field_form' } do |f| %>
  <%= render 'admin/shared/error_messages', :object => f.object %>
  <%= hidden_field_tag 'template_type', f.object.class %>
  <%= f.label :label %>
  <%= f.text_field :label %>

  <%= f.label :handle %>
  <%= f.text_field :handle %>

  <div class="contains_input">
    <%= f.check_box :required %>
    <%= f.label :required %>
  </div>

  <%= f.label :instructions %>
  <%= f.text_area :instructions, :rows => 3 %>

  <% begin %>
  <%= render :partial => "#{@datum_template.class.to_s.underscore}_form", :locals => { :f => f } %>
  <% rescue ActionView::MissingTemplate %>
  <% end %>
  <div class="submit">
    <%= f.submit t(:save) %>
  </div>
<% end %>